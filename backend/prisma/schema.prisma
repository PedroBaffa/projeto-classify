generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

// --- Seus Modelos ---

model Usuario {
  id           Int           @id @default(autoincrement())
  nome         String
  email        String        @unique
  senha        String
  tipo         String
  preferencias Json?
  aulas        Aula[]
  solicitacoes Solicitacao[]
}

model UC {
  id     Int     @id @default(autoincrement())
  nome   String
  cor    String  @default("laranja")
  aulas  Aula[]
  turmas Turma[]
}

model Sala {
  id         Int    @id @default(autoincrement())
  nome       String
  capacidade Int
  aulas      Aula[]
}

model Turma {
  id   Int    @id @default(autoincrement())
  nome String
  ucs  UC[]
}

model Aula {
  id          Int      @id @default(autoincrement())
  diaSemana   String
  horario     String
  
  professorId Int
  professor   Usuario @relation(fields: [professorId], references: [id])
  
  ucId        Int
  uc          UC      @relation(fields: [ucId], references: [id])
  
  salaId      Int
  sala        Sala    @relation(fields: [salaId], references: [id])
}

model Solicitacao {
  id          Int      @id @default(autoincrement())
  titulo      String
  descricao   String
  tipo        String
  status      String   @default("pendente")
  
  usuarioId   Int
  usuario     Usuario  @relation(fields: [usuarioId], references: [id])
}